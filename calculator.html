<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Calculators Hub</title>
    <link rel="stylesheet" href="css/headerfooter.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent1: #f72585;
            --accent2: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4bb543;
            --warning: #ffcc00;
            --danger: #dc3545;
            --gray: #6c757d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7ff;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Calculator List View */
        .calculator-list {
            display: flex;
            flex-flow: row wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .category {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            flex: 1 1 300px;
            max-width: 350px;
        }

        .category h2 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent2);
            display: flex;
            align-items: center;
        }

        .category h2 i {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .calc-item {
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
            margin: 10px 0;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .calc-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background: linear-gradient(to right, #e9ecef, #dee2e6);
        }

        .calc-item i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        /* Calculator View */
        .calculator-view {
            display: none;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-top: 20px;
        }

        .calc-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent2);
        }

        .back-button {
            background: var(--gray);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: background 0.3s;
        }

        .back-button:hover {
            background: #5a6268;
        }

        .calc-content {
            display: flex;
            flex-flow: row wrap;
            gap: 20px;
        }

        .input-group {
            flex: 1 1 300px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 1rem;
        }

        .calculate-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 20px;
            width: 100%;
            transition: background 0.3s;
        }

        .calculate-btn:hover {
            background: var(--secondary);
        }

        .results {
            flex: 1 1 300px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .results h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .result-value {
            font-weight: 600;
            color: var(--success);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .category {
                max-width: 100%;
            }
            
            .calc-content {
                flex-direction: column;
            }
        }

        /* Amortization Table */
        .amortization-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .amortization-table th, 
        .amortization-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        .amortization-table th {
            background-color: var(--primary);
            color: white;
        }

        .amortization-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header id="header"></header>

    <div class="container">
        <h1>Financial Calculators</h1>
        <p>Select a calculator from the categories below to get started with your financial planning.</p>

        <!-- Calculator List View -->
        <div class="calculator-list" id="calculatorList">
            <!-- Investment & Wealth -->
            <div class="category">
                <h2><i class="fas fa-chart-line"></i> Investment & Wealth</h2>
                <div class="calc-item" data-calc="sip">
                    <span>SIP (Systematic Investment Plan) Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="lumpsum">
                    <span>Lumpsum Investment Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="mutualfund">
                    <span>Mutual Fund Return Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="inflation">
                    <span>Inflation Impact Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- Loans & Credit -->
            <div class="category">
                <h2><i class="fas fa-credit-card"></i> Loans & Credit</h2>
                <div class="calc-item" data-calc="emi">
                    <span>EMI Calculator (with Amortization Table)</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="loan">
                    <span>Loan Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="homeloan">
                    <span>Home Loan vs Rent Comparison Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- Banking & Deposits -->
            <div class="category">
                <h2><i class="fas fa-university"></i> Banking & Deposits</h2>
                <div class="calc-item" data-calc="fd">
                    <span>Fixed Deposit (FD) Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="rd">
                    <span>Recurring Deposit (RD) Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="sukanya">
                    <span>Sukanya Samriddhi Yojana Calculator</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- Taxation -->
            <div class="category">
                <h2><i class="fas fa-file-invoice-dollar"></i> Taxation</h2>
                <div class="calc-item" data-calc="incometax">
                    <span>Income Tax Calculator (with slabs & exemptions)</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="calc-item" data-calc="capitalgains">
                    <span>Capital Gains Tax Calculator (short-term & long-term)</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>
        </div>

        <!-- Calculator Views (initially hidden) -->
        <!-- SIP Calculator -->
        <div class="calculator-view" id="sipCalc">
            <div class="calc-header">
                <h2><i class="fas fa-chart-line"></i> SIP Calculator</h2>
                <button class="back-button" onclick="showCalculatorList()"><i class="fas fa-arrow-left"></i> Back to List</button>
            </div>
            <div class="calc-content">
                <div class="input-group">
                    <label for="sipMonthly">Monthly Investment (â‚¹)</label>
                    <input type="number" id="sipMonthly" placeholder="e.g., 5000">
                    
                    <label for="sipRate">Expected Annual Return (%)</label>
                    <input type="number" id="sipRate" placeholder="e.g., 12">
                    
                    <label for="sipYears">Investment Period (Years)</label>
                    <input type="number" id="sipYears" placeholder="e.g., 10">
                    
                    <button class="calculate-btn" onclick="calculateSIP()">Calculate</button>
                </div>
                <div class="results">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span>Total Investment</span>
                        <span class="result-value" id="sipTotalInvestment">â‚¹0</span>
                    </div>
                    <div class="result-item">
                        <span>Estimated Returns</span>
                        <span class="result-value" id="sipReturns">â‚¹0</span>
                    </div>
                    <div class="result-item">
                        <span>Total Value</span>
                        <span class="result-value" id="sipTotalValue">â‚¹0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- EMI Calculator -->
        <div class="calculator-view" id="emiCalc">
            <div class="calc-header">
                <h2><i class="fas fa-credit-card"></i> EMI Calculator</h2>
                <button class="back-button" onclick="showCalculatorList()"><i class="fas fa-arrow-left"></i> Back to List</button>
            </div>
            <div class="calc-content">
                <div class="input-group">
                    <label for="loanAmount">Loan Amount (â‚¹)</label>
                    <input type="number" id="loanAmount" placeholder="e.g., 500000">
                    
                    <label for="interestRate">Interest Rate (%)</label>
                    <input type="number" id="interestRate" placeholder="e.g., 8.5">
                    
                    <label for="loanTenure">Loan Tenure (Months)</label>
                    <input type="number" id="loanTenure" placeholder="e.g., 60">
                    
                    <button class="calculate-btn" onclick="calculateEMI()">Calculate</button>
                </div>
                <div class="results">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span>Monthly EMI</span>
                        <span class="result-value" id="emiValue">â‚¹0</span>
                    </div>
                    <div class="result-item">
                        <span>Total Interest</span>
                        <span class="result-value" id="totalInterest">â‚¹0</span>
                    </div>
                    <div class="result-item">
                        <span>Total Payment</span>
                        <span class="result-value" id="totalPayment">â‚¹0</span>
                    </div>
                </div>
            </div>
            <div id="amortizationTable" style="display: none; width: 100%; margin-top: 30px;">
                <h3>Amortization Table</h3>
                <table class="amortization-table">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>Payment</th>
                            <th>Principal</th>
                            <th>Interest</th>
                            <th>Balance</th>
                        </tr>
                    </thead>
                    <tbody id="amortizationBody">
                        <!-- Amortization data will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- More calculator views would be added here in a real implementation -->
    </div>

    <footer id="footer"></footer>

    <script src="js/headerfooter.js"></script>
    <script src="js/calhandler.js"></script>
    <script>
        // Function to show calculator based on selection
        function showCalculator(calcId) {
            // Hide the calculator list
            document.getElementById('calculatorList').style.display = 'none';
            
            // Hide all calculator views
            const calcViews = document.querySelectorAll('.calculator-view');
            calcViews.forEach(view => {
                view.style.display = 'none';
            });
            
            // Show the selected calculator
            document.getElementById(calcId + 'Calc').style.display = 'block';
        }

        // Function to show the calculator list
        function showCalculatorList() {
            // Show the calculator list
            document.getElementById('calculatorList').style.display = 'flex';
            
            // Hide all calculator views
            const calcViews = document.querySelectorAll('.calculator-view');
            calcViews.forEach(view => {
                view.style.display = 'none';
            });
        }

        // Add event listeners to calculator items
        document.addEventListener('DOMContentLoaded', function() {
            const calcItems = document.querySelectorAll('.calc-item');
            calcItems.forEach(item => {
                item.addEventListener('click', function() {
                    const calcId = this.getAttribute('data-calc');
                    showCalculator(calcId);
                });
            });
        });

        // Sample calculation functions (would be in calhandler.js in a real implementation)
        function calculateSIP() {
            const monthlyInvestment = parseFloat(document.getElementById('sipMonthly').value);
            const annualRate = parseFloat(document.getElementById('sipRate').value) / 100;
            const years = parseInt(document.getElementById('sipYears').value);
            
            const monthlyRate = annualRate / 12;
            const months = years * 12;
            const totalInvestment = monthlyInvestment * months;
            
            // Future Value of SIP formula: FV = P * [((1 + r)^n - 1) / r] * (1 + r)
            const futureValue = monthlyInvestment * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate);
            const returns = futureValue - totalInvestment;
            
            document.getElementById('sipTotalInvestment').textContent = `â‚¹${totalInvestment.toLocaleString('en-IN')}`;
            document.getElementById('sipReturns').textContent = `â‚¹${returns.toLocaleString('en-IN', {maximumFractionDigits: 2})}`;
            document.getElementById('sipTotalValue').textContent = `â‚¹${futureValue.toLocaleString('en-IN', {maximumFractionDigits: 2})}`;
        }

        function calculateEMI() {
            const principal = parseFloat(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12; // Monthly interest rate
            const tenure = parseInt(document.getElementById('loanTenure').value);
            
            // EMI formula: [P x R x (1+R)^N]/[(1+R)^N-1]
            const emi = principal * interestRate * Math.pow(1 + interestRate, tenure) / (Math.pow(1 + interestRate, tenure) - 1);
            const totalPayment = emi * tenure;
            const totalInterest = totalPayment - principal;
            
            document.getElementById('emiValue').textContent = `â‚¹${emi.toLocaleString('en-IN', {maximumFractionDigits: 2})}`;
            document.getElementById('totalInterest').textContent = `â‚¹${totalInterest.toLocaleString('en-IN', {maximumFractionDigits: 2})}`;
            document.getElementById('totalPayment').textContent = `â‚¹${totalPayment.toLocaleString('en-IN', {maximumFractionDigits: 2})}`;
            
            // Generate amortization table
            generateAmortizationTable(principal, interestRate, tenure, emi);
            document.getElementById('amortizationTable').style.display = 'block';
        }

        function generateAmortizationTable(principal, monthlyRate, tenure, emi) {
            let balance = principal;
            let tableHTML = '';
            
            for (let month = 1; month <= tenure; month++) {
                const interest = balance * monthlyRate;
                const principalPaid = emi - interest;
                balance -= principalPaid;
                
                // Ensure balance doesn't go negative
                if (balance < 0) balance = 0;
                
                tableHTML += `
                    <tr>
                        <td>${month}</td>
                        <td>â‚¹${emi.toFixed(2)}</td>
                        <td>â‚¹${principalPaid.toFixed(2)}</td>
                        <td>â‚¹${interest.toFixed(2)}</td>
                        <td>â‚¹${balance.toFixed(2)}</td>
                    </tr>
                `;
            }
            
            document.getElementById('amortizationBody').innerHTML = tableHTML;
        }
    </script>
</body>
</html>